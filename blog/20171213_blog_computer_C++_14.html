<html lang="zh-cn">
<head>
    <title>blog-map的const引用问题</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../css/page.css">
    <link rel="shortcut icon" href="../image/yuan.ico" type="image/x-icon"/>
</head>
<body>
    <div class="blog-header"></div>
    <div class="blog-nav">
        <hr id="up"/>
        <button id="first" onclick="window.location.href='../index.html'">首 页
        </button><button   id="active"  onclick="window.location.href='../blog.html'">博 客
        </button><button   onclick="window.location.href='../read.html'">读 书
        </button><button   onclick="window.location.href='../science.html'">科 学
        </button><button   onclick="window.location.href='../literature.html'">文 哲
        </button><button   onclick="window.location.href='../scope.html'">视 野
        </button><button  onclick="window.location.href='../chief_engineer.html'">首 领</button>
        <hr id="down"/>
    </div>
    <div class="blog-body">
        <div id="title">map的const引用问题</div>
        <div id="subtitle">2017-12-13 23:05:28</div>
        <p>有两种使用场景</p>
<p>1.参数传递const引用</p>
<p>2.代码中直接声明const</p>
<p>其中第一种使用方式最常用，比如这样</p>
<pre><code class="lang-c++">int func(std::map&lt;std::string, std::string&gt; mapName);</code></pre><p>这样使用有个潜在的问题</p>
<p>如果在代码中使用运算符[]访问map元素时，就会报错;如果使用at()访问map元素就一切正常，为什么呢？</p>
<p>因为运算符[],意味着可能修改map</p>
<blockquote><p>The []-operator will create a new entry in the map if the given key does not exists. It may thus change the map.</p>
</blockquote><p>而const引用是不能修改的。</p>
<p>因此，如果使用const引用map，那么使用at访问元素。如果非const引用map，at和[]都可以。</p>

        <div id="sign">—— 星期三 火星</div>
        <footer>
            <a href="20171210_blog_literature_life_13.html">上一篇</a>
            <span id="back-top"><a href="#">返回页顶</a></span>
            <span id="next-blog"><a href="20171217_blog_computer_Go_15.html">下一篇</a></span>
        </footer>
    </div>
</body>
</html>
